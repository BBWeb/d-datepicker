<index: element="datepicker">
  <div class="datepicker datepicker-inline">
    {{if view === 'days'}}
    <view name="days"></view>
    {{/if}}
    {{if view === 'months'}}
      <view name="months"></view>
    {{/if}}
    {{if view === 'years'}}
      <view name="years"></view>
    {{/if}}
  </div>

<months:>
  <div class="datepicker-months">
    <table class="table-condensed">
      <thead>
        <tr>
          <th class="prev" style="visibility: visible;">«</th>
          <th on-click="gotoYearView()" colspan="5" class="datepicker-switch">{{getYear(currentDate)}}</th>
          <th class="next" style="visibility: visible;">»</th>
        </tr
      ></thead>
      <tbody>
        <tr>
          <td colspan="7">
          {{each months as #month}}
            <span on-click="gotoDayView(#month.date)" class="month {{if activeMonth(active, #month.date)}}active{{/if}}">{{#month.abbr}}</span>
          {{/each}}
          </td>
        </tr>
      </tbody>
    </table>
  </div>

<days:>
  <div class="datepicker-days">
    <table class="table-condensed">
      <thead>
        <tr>
          <th on-click="prevMonth()" class="prev" style="visibility: visible;">«</th>
          <th colspan="5" on-click="gotoMonthView()" class="datepicker-switch">{{getMonth(currentDate)}} {{getYear(currentDate)}}</th>
          <th on-click="nextMonth()" class="next" style="visibility: visible;">»</th>
        </tr>
        <tr>
          <th class="dow">Su</th>
          <th class="dow">Mo</th>
          <th class="dow">Tu</th>
          <th class="dow">We</th>
          <th class="dow">Th</th>
          <th class="dow">Fr</th>
          <th class="dow">Sa</th>
          </tr>
      </thead>
      <tbody>
      {{each weeks as #datesInWeek, #i}}
        <tr>
        {{each #datesInWeek as #date, #j}}
          <td on-click="select(#date)" class="day {{if !#date.thisMonth}}old{{/if}} {{if activeDate(active, #date.fullDate)}}active{{/if}}">{{#date.date}}</td>
        {{/each}}
        </tr>
      {{/each}}
      </tbody>
    </table>
  </div>

<years:>
  <div class="datepicker-years" style="display: block;">
    <table class="table-condensed">
      <thead>
        <tr>
          <th class="prev" style="visibility: visible;">«</th>
          <th colspan="5" class="datepicker-switch">2010-2019</th>
          <th class="next" style="visibility: visible;">»</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td colspan="7">
          {{each years as #year}}
            <span class="year">{{#year}}</span>
          {{/each}}
          </td>
        </tr>
      </tbody>
    </table>
  </div>